<link rel="stylesheet" href="{{ __css__ }}vendor/bootstrap/bootstrap.css">
<link rel="stylesheet" href="{{ __css__ }}admin/module/liveEdit/panel.css">
<link rel="stylesheet" href="{{ __css__ }}admin/notifications.css">

<div class="navbar-le">
    <input type="hidden" id="le-meta-route" value="{{ route }}">
    <input type="hidden" id="le-meta-url-scan" value="{{ path('le/scan') }}">
    <input type="hidden" id="le-meta-url-set" value="{{ path('le/set') }}">
    <input type="hidden" id="le-meta-url-fm" value="{{ path('carnival/FileManager') }}?popup">
    <input type="hidden" id="le-meta-template" value="{{ template }}">
    <input type="hidden" id="le-meta-editing" value="0">
    <input type="hidden" id="le-meta-web-storage" value="{{ __webStorage__ }}">

    <div class="menu">
        <img src="{{ __img__ }}logo.png" class="logo">
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item"> 
                <a class="nav-link active" href="#tab1" data-toggle="tab" role="tab" aria-controls="tab1" aria-expanded="true">Formátování</a> 
            </li>             

            <li class="nav-item"> 
                <a class="nav-link" href="#tab2" data-toggle="tab" role="tab" aria-controls="tab2" aria-expanded="true">Jazyk</a> 
            </li>
            
            <li class="nav-item"> 
                <a class="nav-link" href="{{ path('carnival') }}" data-toggle="tab" role="tab" aria-controls="tab2" aria-expanded="true">Zpět do adminu</a> 
            </li>  
        </ul>
        <div class="tab-content">
            <div class="active tab-pane" role="tabpanel" aria-labelledby="tab1-tab" id="tab1">
                
            </div>
            <div class="tab-pane" role="tabpanel" aria-labelledby="tab2-tab" id="tab2">
                <p>Tab 2 content goes here...</p>
            </div>
        </div>
    </div>
    <div class="menu-settings">
        <div class="user">
            <img src="{{ __webStorage__ }}{{ user.img.relativePath }}">
        </div>
    </div>
</div>

<button class="le-save" disabled>
    <div class="icon">
        {{ icon('device-floppy')|raw }}
    </div>
</button>

<!-- <div class="card le-panel" id="le-panel">
    <div class="card-header" v-on:click="visible = !visible">
        <b>LivEdit control panel</b>
    </div>
    <div class="card-body" v-show="visible">
        <form id="le-set-form" action="" method="POST">
            <input type="hidden" name="route" value="{{ route }}">
            <input type="hidden" name="url" value="{{ path('le/set') }}">
            <input type="hidden" name="template" value="{{ template }}">
            <input type="hidden" name="editing" value="0" id="le-set-editing">

            <table class="table">
                <thead>
                    <tr>
                        <th>Jméno</th>
                        {#<th>Obsah</th>#}
                        <th>Uživatel</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="le-set-tr">
                        <td>
                            <input name="name" id="le-set-name" type="text" class="form-control" placeholder="Name">
                            <input type="hidden" name="nameOriginal" value="" id="le-name-original">
                        </td>
                        <td>
                            <textarea name="content" id="le-set-content" class="form-control" placeholder="Content (TODO: WYSIWYG)"></textarea>
                            <input type="hidden" name="contentOriginalOuter" id="le-set-content-original-outer">
                            <input type="hidden" name="contentOriginalInner" id="le-set-content-original-inner">
                        </td>
                        <td>
                            <input type="text" class="form-control" disabled="disabled" value="{{ user.username }}">
                        </td>
                        <td>
                            <button type="button" id="le-set-cancel" class="btn btn-yellow">Zrušit</button>
                            <button type="submit" class="btn blue-button">Potvrdit</button>
                        </td>
                    </tr>
                    <tr v-for="node in nodes">
                        <td>
                            ${ node.name }
                        </td>
                        {#
                        <td v-html="node.contentClean" class='le-list-content-td'>
                        </td>
                        #}
                        <td>
                            ${ node.user }
                        </td>
                        <td>
                            <button type="button" class="btn blue-button le-edit" v-bind:data-edit-le-name="node.name">Upravit</button>
                            <button type="button" class="btn btn-yellow le-delete"
                                v-bind:data-delete-le-name="node.name" 
                                data-delete-le-url="{{ path('le/delete') }}"
                                data-delete-le-route="{{ route }}"
                                data-delete-le-template="{{ template }}"
                            >
                                Smazat
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
</div> -->

<textarea id="le-nodes-json" style="display:none;">
    {{ nodes|toArray|json_encode }}
</textarea>

<script src="{{ __scripts__ }}vendor/vue.js"></script>
<script src="{{ __scripts__ }}vendor/jquery.min.js"></script>
<script src="{{ __scripts__ }}vendor/notifications.js"></script>
<script src="{{ __scripts__ }}vendor/ckeditor/ckeditor.js"></script>

<script>CKEDITOR.disableAutoInline = true;</script>

<script src="{{ __scripts__ }}admin/module/liveEdit/scan.js"></script>
<script src="{{ __scripts__ }}admin/module/liveEdit/select.js"></script>
<script src="{{ __scripts__ }}admin/module/liveEdit/set.js"></script>
<script src="{{ __scripts__ }}admin/module/liveEdit/delete.js"></script>