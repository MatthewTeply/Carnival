<link href="{{ __css__ }}admin/partials/nav.css" rel="stylesheet">

<input type="hidden" id="meta-webroot" value="{{ app.isDefault ? webroot : webroot ~ app.name ~ '/' }}">
<input type="hidden" id="meta-appName" value="{{ app.name }}">
<input type="hidden" id="meta-appIsDefault" value="{{ app.isDefault }}">

<div id="carnival-spa-progress-bar"></div>

<nav class="side-nav">
    <div class="nav-fixed-buttons">
        <div class="logo">
            <a class="logo-inner" href="{{ path('') }}" carnival-link="false">
                <img src="{{ __img__ }}logo.png" alt="">
            </a>
            <div class="page-loading">
                {#<img src="{{ __img__ }}animations/loading.gif">#}
                <i class="fas fa-circle-notch fa-spin"></i>
            </div>
        </div>
        {#
        <div class="go-website-around">
            <a target="_blank" href="{{ path('../') }}" carnival-link="false">
                <button class="go-website" data-toggle="tooltip" data-placement="right" title="{{ 'Go to website'|trans('partials/nav') }}">
                    <span><i class="fas fa-globe"></i></span>
                </button>
            </a>
        </div>
        #}
    </div>

    <div class="body">

        <a target="_blank" href="{{ path('../') }}" carnival-link="false">
            <div class="nav-btn go-website">
                <p>
                    {{ 'Go to website'|trans('partials/nav') }}
                </p>
            </div>
        </a>


        <a href="#nav-sub-section-entities"
            class="nav-btn {% if entityConfig.nav_section is null or entityConfig.nav_section == 'entity' %}active{% endif %} sub-section-toggle"
            id="nav-btn-Entities" data-toggle="collapse">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-stack" width="44" height="44"
                viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round"
                stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <polyline points="12 4 4 8 12 12 20 8 12 4" />
                <polyline points="4 12 12 16 20 12" />
                <polyline points="4 16 12 20 20 16" />
            </svg>
            </p>{{ 'Entities'|trans('partials/nav') }}</p>
        </a>

        <section class="collapse-section">
            <div class="collapse show nav-sub-section" id="nav-sub-section-entities">
                <ul>
                    {% for entity in entities %}
                        {% if entity.type == 'entity' and entity.display %}
                            <a href="{{ path(entity.name) }}" carnival-fade="true">
                                <li class="sub-section-btn sub-section-entity-btn {{ entity.active ? 'active' : '' }} {{ entity.help ? 'popover-link' : '' }}"
                                    {% if entity.help %} data-container="body" data-toggle="popover" data-placement="right"
                                    title="<i class='fas fa-question-circle'></i> {{ 'Help'|trans('partials/nav') }}"
                                    data-content="{{ entity.help }}" {% endif %} id="nav-btn-{{ entity.name }}"
                                    data-section="Entities">
                                    {% if entity.icon is not null %}
                                    {{ icon(entity.icon)|raw }}
                                    {% else %}
                                    {{ icon('box')|raw }}
                                    {% endif %}

                                    {{ entity.title|trans('partials/nav') }}
                                </li>
                            </a>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </section>

        <a href="{{ path('Dashboard') }}">
            <div class="nav-btn {% if entityConfig.nav_section == 'dashboard' %}active{% endif %}"
                id="nav-btn-Dashboard">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-dashboard" width="44"
                    height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <circle cx="12" cy="13" r="2" />
                    <line x1="13.45" y1="11.55" x2="15.5" y2="9.5" />
                    <path d="M6.4 20a9 9 0 1 1 11.2 0Z" />
                </svg>
                <p>{{ 'Dashboard'|trans('partials/nav') }}</p>
            </div>
        </a>

        <a href="{{ path('FileManager') }}" carnival-fade="true">
            <div data-container="body" data-toggle="popover" data-placement="right"
                title="<i class='fas fa-question-circle'></i> {{ 'Help'|trans('partials/nav') }}" data-content="
                    <img src='{{ __img__ }}demos/nav/FileManager.gif' class='nav-demo'>
                    {{ 'Here you can upload, edit and delete files'|trans('partials/nav') }}
                " class="nav-btn {% if entityConfig.nav_section == 'fileManager' %}active{% endif %} popover-link"
                id="nav-btn-FileManager">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-folders" width="44"
                    height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <path d="M9 4h3l2 2h5a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2" />
                    <path d="M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2h2" />
                </svg>
                <p>{{ 'FileManager'|trans('partials/nav') }}</p>
            </div>
        </a>

        <a href="{{ path('Translate') }}" carnival-fade="true">
            <div class="nav-btn {% if entityConfig.nav_section == 'translate' %}active{% endif %}"
                id="nav-btn-Translate">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="44"
                    height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <path d="M5 7h7m-2 -2v2a5 8 0 0 1 -5 8m1 -4a7 4 0 0 0 6.7 4" />
                    <path d="M11 19l4 -9l4 9m-.9 -2h-6.2" />
                </svg>
                <p>{{ 'Translations'|trans('partials/nav') }}</p>
            </div>
        </a>

        {#
        <a href="{{ path('User') }}" carnival-fade="true">
            <div class="nav-btn {% if entityConfig.nav_section == 'user' %}active{% endif %}" id="nav-btn-User">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-users" width="44"
                    height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <circle cx="9" cy="7" r="4" />
                    <path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                    <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                    <path d="M21 21v-2a4 4 0 0 0 -3 -3.85" />
                </svg>
                <p>{{ 'Users'|trans('partials/nav') }}</p>
            </div>
        </a>
        #}

        <a href="#nav-sub-section-settings"
            class="nav-btn {% if entityConfig.nav_section == 'settings' %}active{% endif %} sub-section-toggle"
            id="nav-btn-Settings" data-toggle="collapse">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-settings" width="44" height="44"
                viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round"
                stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" />
                <path
                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                <circle cx="12" cy="12" r="3" />
            </svg>
            <p>{{ 'Settings'|trans('partials/nav') }}</p>
        </a>

        <section class="collapse-section">
            <div class="collapse show nav-sub-section" id="nav-sub-section-settings">
                <ul>
                    <a href="{{ path(entities.GeneralSettings.name) }}" carnival-fade="true">
                        <li class="sub-section-btn sub-section-settings-btn {{ (entities.GeneralSettings.active) ? 'active' : '' }}"
                            id="nav-btn-{{ entities.GeneralSettings.name }}" data-section="Settings">
                            {% if entities.GeneralSettings.icon is not null %}
                                {{ icon(entities.GeneralSettings.icon)|raw }}
                            {% else %}
                                {{ icon('box')|raw }}
                            {% endif %}

                            {{ entities.GeneralSettings.title|trans('partials/nav') }}
                        </li>
                    </a>

                    {% for entity in entities %}
                        {% if entity.type == 'settings' and entity.display %}
                            <a href="{{ path(entity.name) }}" carnival-fade="true">
                                <li class="sub-section-btn sub-section-settings-btn {{ (entity.active) ? 'active' : '' }}"
                                    id="nav-btn-{{ entity.name }}" data-section="Settings">
                                    {% if entity.icon is not null %}
                                        {{ icon(entity.icon)|raw }}
                                    {% else %}
                                        {{ icon('box')|raw }}
                                    {% endif %}

                                    {{ entity.title|trans('partials/nav') }}
                                </li>
                            </a>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </section>

        <a href="{{ path('Help') }}" carnival-fade="true">
            <div class="nav-btn" id="nav-btn-Help">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-help" width="44" height="44"
                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <circle cx="12" cy="12" r="9" />
                    <line x1="12" y1="17" x2="12" y2="17.01" />
                    <path d="M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4" />
                </svg>
                <p>{{ 'Help'|trans('partials/nav') }}</p>
            </div>
        </a>

    </div>

    <div class="online-user-around">

        {#
        <a href="#">
            <div class="nav-btn scn-nav-toggle" id="nav-btn-Notifications">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-bell" width="44"
                    height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <path
                        d="M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6" />
                    <path d="M9 17v1a3 3 0 0 0 6 0v-1" />
                </svg>
                <p>Notifications</p>
            </div>
        </a>
        #}

    </div>

</nav>

<nav class="side-nav-right">
    <div class="nav-right-btn">
        <div class="nav-right-btn-inner"><i class="fas fa-info-circle"></i><span>Info</span></div>
    </div>
</nav>

<nav class="top-nav">
    <ol class="breadcrumb" id="top-nav-breadcrumb">
        {% for page in breadcrumb %}
            <li class="breadcrumb-item active" aria-current="page">{{ page|trans('partials/nav') }}</li>
        {% endfor %}
    </ol>

    <div class="online-user droptop">
        <div class="fixed-right">

            {% if environment == 'dev' %}
                <span class="text-danger dev-alert">
                    Nacházíte se v testovací verzi webu!
                </span>
            {% endif %}

            <button data-container="body" data-toggle="popover" data-placement="bottom" data-content="
                    <span>{{ 'When this timer runs out, you will be logged out. Time can be configured in settings. Time gets reset by clicking.'|trans('partials/nav') }}</span>
                    <a href='{{ path('GeneralSettings') }}' class='btn btn-block mt-2 btn-light popover-close'>{{ 'Open settings'|trans('partials/nav') }}</a>
                " class="btn fixed-right-item nav-logout-timer-container popover-link-stay">
                <span id="nav-logout-timer">
                    00:00:00
                </span>

                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-lock-open" width="44"
                    height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <rect x="5" y="11" width="14" height="10" rx="2" />
                    <circle cx="12" cy="16" r="1" />
                    <path d="M8 11v-5a4 4 0 0 1 8 0" />
                </svg>
            </button>

            <button class="btn fixed-right-item">
                {#
                    <span class="badge badge-danger notify-dot timeline-notify-dot">
                    </span>
                    #}
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-bell" width="44" height="44"
                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <path d="M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6" />
                    <path d="M9 17v1a3 3 0 0 0 6 0v-1" />
                </svg>
            </button>

            <button class="btn fixed-right-item">
                {#
                <span class="badge badge-danger notify-dot messages-notify-dot">
                    131
                </span>
                #}
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="44" height="44"
                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <rect x="3" y="5" width="18" height="14" rx="2" />
                    <polyline points="3 7 12 13 21 7" />
                </svg>
            </button>

            <div class="fixed-right-item">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                    carnival-link="false" data-offset="-120,15">
                    {% if user.img != '' %}
                    <img class="user-img" src="{{ __storage__ ~ user.img }}">
                    {% else %}
                    <img class="user-img dropdown-toggle" src="{{ __img__ }}icons/profile.png" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                    {% endif %}
                </a>

                <div class="dropdown-menu user-dropdown-menu">
                    <span class="dropdown-menu-arrow"></span>

                    <a class="dropdown-item" href="{{ path('User') }}/show?id={{ user.id }}">{{ icon('user')|raw }}
                        {{ 'Profile'|trans('partials/nav') }}</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item danger" href="{{ path('logout') }}">{{ icon('logout')|raw }}
                        {{ 'Log out'|trans('partials/nav') }}</a>
                </div>
            </div>

        </div>
    </div>

</nav>

<div id="carnival-container">